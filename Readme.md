# Balance Service

Это мое первое знакомство с языком GO.
И первый проект, которые по немногу затрагивает все, что мной изучалось до этого (MySql, Docker, HTTP).
Было интерносно разбираться в новом языке, настраивать взамидействие между БД и сервером, создовать контейнер для равертывания собственного приложения.
По итогу узнал много чего интересного. Осознал, что способен развертывать микросервисы, что смогу взять на себя Bak-end во время хакатонов.  
А теперь детали проекта.

## Протокол взамодействия

В качестве входящего запроса используется JSON структура со следующими полями.  
Не обязательно заполнять всю структуру, можно только её часть.
Каждый обработчик берет только нужную для реализации запроса информацию. (поясню дальше)


#### RequestStruct
```JSON
{
  "method":"method_name",
  "data":{
    "replenishment":{
      "id":5,
      "value":5.24
    },
    "withdrawal":{
      "id":6,
      "value":7.78
    },
    "transfer":{
      "id_from":5,
      "id_to":7,
      "value":3.22
    },
    "user":{
      "id":21,
      "first_name":"string",
      "last_name":"string"
    },
    "currency":"currency_code",
    "sort":"sort_flag"
  }
}
```

В качестве исходящего запроса используется JSON стуктура со следующими полями.
Заполнены будут все поля, далее опишу какие методы за какие поля отвечают.
(Есть идеи как передавать только нужную информацию, потом их попробую)

#### ResponseStruct
```JSON
{
  "Method":"method_name",
  "Data":{
    "Message":"Comment to method",
    "IDUser":5,
    "IDTrunsuction":6,
    "UserBalance":332.5,
    "UsersTransactions":[{
        "info":"string",
        "value":"float_num",
        "date":"string_date"
      }]
  }
}
```


## Реализованные методы
- **/AddUser**  
  - Метод смотрит на структуру **user**, создает пользователя с указанной информацией.
    ```JSON
    {
      "user":{
        "first_name":"string",
        "last_name":"string"
      }
    }
    ```
  - Метод возвращает **id** созданного пользователя
    ```JSON
    {
      "Data":{
        "Message":"Comment to method",
        "IDUser":5
      }
    }
    ```
- **/Replenishment**
    - Метод смотрит на структуру **replenishment**, увеливает баланс пользователя на указанное значение.
    ```JSON
    {
      "replenishment":{
        "id":5,
        "value":5.24
      }
    }
    ```
  - Метод возвращает **id** только что созданной транзакции.
    ```JSON
    {
      "Data":{
        "Message":"Comment to method",
        "IDTrunsuction":6
      }
    }
    ```
- **/Withdrawal**
    - Метод смотрит на структуру **withdrawal**, увеливает баланс пользователя на указанное значение.
    ```JSON
    {
      "withdrawal":{
        "id":6,
        "value":7.78
      },
    }
    ```
  - Метод возвращает **id** только что созданной транзакции.
    ```JSON
    {
      "Data":{
        "Message":"Comment to method",
        "IDTrunsuction":6
      }
    }
    ```












